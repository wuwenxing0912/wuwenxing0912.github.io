<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta property="og:type" content="website">
<meta property="og:title" content="小吴的Blog">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="小吴的Blog">
<meta property="og:locale">
<meta property="article:author" content="xing">
<meta name="twitter:card" content="summary">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"right","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://example.com/"/>





  <title>小吴的Blog</title>
  








<meta name="generator" content="Hexo 5.4.0"></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-right 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">小吴的Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/07/26/React%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="小吴的Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2021/07/26/React%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F/" itemprop="url">React生命周期</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2021-07-26T13:35:29+08:00">
                2021-07-26
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/React/" itemprop="url" rel="index">
                    <span itemprop="name">React</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h1 id="生命周期图解"><a href="#生命周期图解" class="headerlink" title="生命周期图解"></a>生命周期图解</h1><p>React v16.3 之前的生命周期</p>
<table>
<thead>
<tr>
<th>初始化阶段</th>
<th>运行中阶段</th>
<th>销毁阶段</th>
</tr>
</thead>
<tbody><tr>
<td>constructor</td>
<td>componentWillUpdate</td>
<td>componentWillUnmount</td>
</tr>
<tr>
<td>componentWillMount</td>
<td>render</td>
<td></td>
</tr>
<tr>
<td>render</td>
<td>componentDidUpdate</td>
<td></td>
</tr>
<tr>
<td>componentDidMount</td>
<td>shouldComponentUpdate</td>
<td></td>
</tr>
<tr>
<td></td>
<td>componentWillReceiveProps</td>
<td></td>
</tr>
</tbody></table>
<img src="/2021/07/26/React%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F/old_lifecycle.jpg" class title="旧生命周期图">

<p>现在的生命周期</p>
<table>
<thead>
<tr>
<th>初始化阶段</th>
<th>运行中阶段</th>
<th>销毁阶段</th>
</tr>
</thead>
<tbody><tr>
<td>constructor</td>
<td>getDerivedStateFromProps</td>
<td>componentWillUnmount</td>
</tr>
<tr>
<td>getDerivedStateFromProps</td>
<td>render</td>
<td></td>
</tr>
<tr>
<td>render</td>
<td>componentDidUpdate</td>
<td></td>
</tr>
<tr>
<td>componentDidMount</td>
<td>shouldComponentUpdate</td>
<td></td>
</tr>
<tr>
<td></td>
<td>getSnapshotBeforeUpdate</td>
<td></td>
</tr>
</tbody></table>
<img src="/2021/07/26/React%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F/new_lifecycle.jpg" class title="新生命周期图">

<p>React v16.3之前的<code>componentWillMount</code>更名为<code>UNSAFE_componentWillMount</code>、<code>componentWillUpdate</code>更名为<code>UNSAFE_componentWillUpdate</code>、<code>componentWillReceiveProps</code>更名为<code>UNSAFE_componentWillReceiveProps</code>。且这些生命周期方法标记为“过时的”，这些方法仍然有效。</p>
<h1 id="生命周期函数"><a href="#生命周期函数" class="headerlink" title="生命周期函数"></a>生命周期函数</h1><p>下面代码是包含生命周期函数的<a target="_blank" rel="noopener" href="https://codesandbox.io/s/practical-bush-gt5k6?file=/src/App.js">示例</a>：</p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2021/07/26/React%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/07/20/%E6%89%8B%E5%86%99%E7%B3%BB%E5%88%97%E4%B9%8B%E5%9B%9B%EF%BC%9Abind/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="小吴的Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2021/07/20/%E6%89%8B%E5%86%99%E7%B3%BB%E5%88%97%E4%B9%8B%E5%9B%9B%EF%BC%9Abind/" itemprop="url">手写系列之四：bind</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2021-07-20T20:31:59+08:00">
                2021-07-20
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/JavaScript/" itemprop="url" rel="index">
                    <span itemprop="name">JavaScript</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h1 id="bind"><a href="#bind" class="headerlink" title="bind"></a>bind</h1><p>根据<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Function/bind">MDN</a> bind的定义：<code>bind()</code> 方法创建一个新的函数，在 <code>bind()</code> 被调用时，这个新函数的 <code>this</code> 被指定为 <code>bind()</code> 的第一个参数，而其余参数将作为新函数的参数，供调用时使用。用代码说明一下上述的定义：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> person1 = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;AA&quot;</span>,</span><br><span class="line">  <span class="attr">getName</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>.name;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> person2 = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;BB&quot;</span>,</span><br><span class="line">  <span class="attr">getName</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>.name;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//使用bind时，会创建新函数且返回它，第一个参数作为新函数的this</span></span><br><span class="line"><span class="keyword">const</span> p1 = person1.getName.bind(person2);</span><br><span class="line"></span><br><span class="line">person1.getName(); <span class="comment">//&quot;AA&quot;</span></span><br><span class="line">p1(); <span class="comment">//&quot;BB&quot;</span></span><br></pre></td></tr></table></figure>

<p>接下来就开始着手用代码模拟bind。</p>
<h1 id="测试代码"><a href="#测试代码" class="headerlink" title="测试代码"></a>测试代码</h1><p>和上一篇文章一样，首先给上测试代码，依据测试代码完成<a target="_blank" rel="noopener" href="https://github.com/wuwenxing0912/hand-writing/tree/master/bind">模拟bind</a>。</p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2021/07/20/%E6%89%8B%E5%86%99%E7%B3%BB%E5%88%97%E4%B9%8B%E5%9B%9B%EF%BC%9Abind/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/07/15/%E6%89%8B%E5%86%99%E7%B3%BB%E5%88%97%E4%B9%8B%E4%B8%89%EF%BC%9APromise/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="小吴的Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2021/07/15/%E6%89%8B%E5%86%99%E7%B3%BB%E5%88%97%E4%B9%8B%E4%B8%89%EF%BC%9APromise/" itemprop="url">手写系列之三：Promise</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2021-07-15T13:01:09+08:00">
                2021-07-15
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/JavaScript/" itemprop="url" rel="index">
                    <span itemprop="name">JavaScript</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h1 id="Promises-A"><a href="#Promises-A" class="headerlink" title="Promises/A+"></a>Promises/A+</h1><p><a target="_blank" rel="noopener" href="https://promisesaplus.com/">Promises/A+</a> 是 <em>JavaScript Promise 规范</em>。以下给出部分规范内容，其余部分在测试代码中说明。</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">2.1 Promise状态</span><br><span class="line"></span><br><span class="line">一个promise必须处于三种状态之一： pending、fulfilled、rejected</span><br><span class="line"></span><br><span class="line">2.1.1 当promise处于pending时</span><br><span class="line"></span><br><span class="line"><span class="bullet">-</span> 2.1.1.1 promise可以转为fulfilled或rejected状态</span><br><span class="line"></span><br><span class="line">2.1.2 当promise处于fulfilled时</span><br><span class="line"></span><br><span class="line"><span class="bullet">-</span> 2.1.2.1 promise不能转为任何其他状态</span><br><span class="line"><span class="bullet">-</span> 2.1.2.2 必须有一个值，且此值不能改变</span><br><span class="line"></span><br><span class="line">2.1.3 当promise处于rejected时</span><br><span class="line"></span><br><span class="line"><span class="bullet">-</span> 2.1.3.1 promise不能转为任何其他状态</span><br><span class="line"><span class="bullet">-</span> 2.1.3.2 必须有一个reason，且此reason不能改变</span><br></pre></td></tr></table></figure>



<h1 id="测试代码"><a href="#测试代码" class="headerlink" title="测试代码"></a>测试代码</h1><p>根据规范内容编写出如下测试代码，依据测试代码完成<a target="_blank" rel="noopener" href="https://github.com/wuwenxing0912/hand-writing/blob/master/promise/src/index.ts">满足Promise要求的代码</a>即可。</p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2021/07/15/%E6%89%8B%E5%86%99%E7%B3%BB%E5%88%97%E4%B9%8B%E4%B8%89%EF%BC%9APromise/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/07/12/%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E5%9F%BA%E4%BA%8EReact%E7%9A%84Modal%E7%BB%84%E4%BB%B6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="小吴的Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2021/07/12/%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E5%9F%BA%E4%BA%8EReact%E7%9A%84Modal%E7%BB%84%E4%BB%B6/" itemprop="url">实现一个基于React的Modal组件</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2021-07-12T18:45:46+08:00">
                2021-07-12
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/JavaScript/" itemprop="url" rel="index">
                    <span itemprop="name">JavaScript</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/JavaScript/TypeScript/" itemprop="url" rel="index">
                    <span itemprop="name">TypeScript</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h1 id="API"><a href="#API" class="headerlink" title="API"></a>API</h1><p><a target="_blank" rel="noopener" href="https://wuwenxing0912.github.io/react-ui-lib/home.html#/modal">Modal 组件</a>包含对话框和遮罩层。API 具体如下：</p>
<table>
<thead>
<tr>
<th>API</th>
<th>说明</th>
<th>默认值</th>
<th>是否可选</th>
<th>类型</th>
</tr>
</thead>
<tbody><tr>
<td>visible</td>
<td>Modal 是否可见</td>
<td>—</td>
<td>否</td>
<td>boolean</td>
</tr>
<tr>
<td>onClose</td>
<td>关闭 Modal 回调函数</td>
<td>—</td>
<td>否</td>
<td>React.MouseEventHandler</td>
</tr>
<tr>
<td>onConfirm</td>
<td>确定 Modal 回调函数</td>
<td>—</td>
<td>否</td>
<td>React.MouseEventHandler</td>
</tr>
<tr>
<td>onClickMaskClose</td>
<td>是否点击遮罩层关闭 Modal</td>
<td>false</td>
<td>是</td>
<td>boolean</td>
</tr>
<tr>
<td>title</td>
<td>Modal 标题</td>
<td>“对话框”</td>
<td>是</td>
<td>string | ReactNode</td>
</tr>
<tr>
<td>content</td>
<td>Modal 内容</td>
<td>—</td>
<td>是</td>
<td>string | ReactNode</td>
</tr>
<tr>
<td>cancelText</td>
<td>Modal 取消按钮 内容</td>
<td>取消</td>
<td>是</td>
<td>string</td>
</tr>
<tr>
<td>confirmText</td>
<td>Modal 确定按钮 内容</td>
<td>确定</td>
<td>是</td>
<td>string</td>
</tr>
<tr>
<td>ancelButtonType</td>
<td>Modal 取消按钮 类型</td>
<td>default</td>
<td>是</td>
<td>“default” | “primary” | “dashed” | “danger”</td>
</tr>
<tr>
<td>confirmButtonType</td>
<td>Modal 确定按钮 类型</td>
<td>primary</td>
<td>是</td>
<td>“default” | “primary” | “dashed” | “danger”</td>
</tr>
<tr>
<td>className</td>
<td>自定义 Modal 类名</td>
<td>—</td>
<td>是</td>
<td>string</td>
</tr>
<tr>
<td>style</td>
<td>自定义 Modal外层容器 样式</td>
<td>—</td>
<td>是</td>
<td>React.CSSProperties</td>
</tr>
</tbody></table>
<p>根据上述要求，那么就可以这样设计 Props ：</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> Props &#123;</span><br><span class="line">	<span class="attr">visible</span>: <span class="built_in">boolean</span>;</span><br><span class="line">	onClose: React.MouseEventHandler;</span><br><span class="line">	onConfirm: React.MouseEventHandler;</span><br><span class="line">	onClickMaskClose?: <span class="built_in">boolean</span>;</span><br><span class="line">	title?: <span class="built_in">string</span> | ReactNode;</span><br><span class="line">	content?: <span class="built_in">string</span> | ReactNode;</span><br><span class="line">	cancelText?: <span class="built_in">string</span>;</span><br><span class="line">	confirmText?: <span class="built_in">string</span>;</span><br><span class="line">	cancelButtonType?: <span class="string">&quot;default&quot;</span> | <span class="string">&quot;primary&quot;</span> | <span class="string">&quot;dashed&quot;</span> | <span class="string">&quot;danger&quot;</span>;</span><br><span class="line">	confirmButtonType?: <span class="string">&quot;default&quot;</span> | <span class="string">&quot;primary&quot;</span> | <span class="string">&quot;dashed&quot;</span> | <span class="string">&quot;danger&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Modal.defaultProps = &#123;</span><br><span class="line">	<span class="attr">onClickMaskClose</span>: <span class="literal">false</span>,</span><br><span class="line">	<span class="attr">title</span>: <span class="string">&quot;对话框&quot;</span>,</span><br><span class="line">	<span class="attr">cancelText</span>: <span class="string">&quot;取消&quot;</span>,</span><br><span class="line">	<span class="attr">confirmText</span>: <span class="string">&quot;确定&quot;</span>,</span><br><span class="line">	<span class="attr">cancelButtonType</span>: <span class="string">&quot;default&quot;</span>,</span><br><span class="line">	<span class="attr">confirmButtonType</span>: <span class="string">&quot;primary&quot;</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2021/07/12/%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E5%9F%BA%E4%BA%8EReact%E7%9A%84Modal%E7%BB%84%E4%BB%B6/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/07/03/%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E5%9F%BA%E4%BA%8EReact%E7%9A%84Input%E7%BB%84%E4%BB%B6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="小吴的Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2021/07/03/%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E5%9F%BA%E4%BA%8EReact%E7%9A%84Input%E7%BB%84%E4%BB%B6/" itemprop="url">实现一个基于React的Input组件</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2021-07-03T16:10:46+08:00">
                2021-07-03
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/JavaScript/" itemprop="url" rel="index">
                    <span itemprop="name">JavaScript</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/JavaScript/TypeScript/" itemprop="url" rel="index">
                    <span itemprop="name">TypeScript</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h1 id="API"><a href="#API" class="headerlink" title="API"></a>API</h1><p>本次编写的 <a target="_blank" rel="noopener" href="https://wuwenxing0912.github.io/react-ui-lib/home.html#/input">Input组件</a> 没有完全实现原生的 input 输入框，部分 Input  API 如下：</p>
<table>
<thead>
<tr>
<th>API</th>
<th>说明</th>
<th>是否可选</th>
<th>默认值</th>
<th>类型</th>
</tr>
</thead>
<tbody><tr>
<td>id</td>
<td>输入框的id</td>
<td>是</td>
<td>—</td>
<td>string</td>
</tr>
<tr>
<td>placeholder</td>
<td>输入框的placeholder</td>
<td>是</td>
<td>—</td>
<td>string</td>
</tr>
<tr>
<td>className</td>
<td>自定义类名</td>
<td>是</td>
<td>—</td>
<td>string</td>
</tr>
<tr>
<td>style</td>
<td>自定义样式</td>
<td>是</td>
<td>—</td>
<td>React.CSSProperties</td>
</tr>
<tr>
<td>value</td>
<td>输入框的value</td>
<td>是</td>
<td>—</td>
<td>string</td>
</tr>
<tr>
<td>disabled</td>
<td>输入框禁用状态</td>
<td>是</td>
<td>false</td>
<td>boolean</td>
</tr>
<tr>
<td>prefix</td>
<td>输入框前缀图标</td>
<td>是</td>
<td>—</td>
<td>string</td>
</tr>
<tr>
<td>suffix</td>
<td>输入框后缀图标</td>
<td>是</td>
<td>—</td>
<td>string</td>
</tr>
<tr>
<td>error</td>
<td>输入框后缀错误状态</td>
<td>是</td>
<td>false</td>
<td>boolean</td>
</tr>
<tr>
<td>addOnBefore</td>
<td>输入框前缀标签</td>
<td>是</td>
<td>—</td>
<td>string</td>
</tr>
<tr>
<td>addOnAfter</td>
<td>输入框后缀标签</td>
<td>是</td>
<td>—</td>
<td>string</td>
</tr>
</tbody></table>
<p>根据上述要求，那么就可以这样设计 Props ：</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> Props <span class="keyword">extends</span> React.InputHTMLAttributes&lt;HTMLInputElement&gt; &#123;</span><br><span class="line">	id?: <span class="built_in">string</span>;</span><br><span class="line">	placeholder?: <span class="built_in">string</span>;</span><br><span class="line">	className?: <span class="built_in">string</span>;</span><br><span class="line">	style?: React.CSSProperties;</span><br><span class="line">	value?: <span class="built_in">string</span>;</span><br><span class="line">	disabled?: <span class="built_in">boolean</span>;</span><br><span class="line">	prefix?: <span class="built_in">string</span>;</span><br><span class="line">	suffix?: <span class="built_in">string</span>;</span><br><span class="line">	error?: <span class="built_in">boolean</span>;</span><br><span class="line">	addOnBefore?: <span class="built_in">string</span>;</span><br><span class="line">	addOnAfter?: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line">Input.defaultProps = &#123;</span><br><span class="line">	<span class="attr">disabled</span>: <span class="literal">false</span>,</span><br><span class="line">	<span class="attr">error</span>: <span class="literal">false</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2021/07/03/%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E5%9F%BA%E4%BA%8EReact%E7%9A%84Input%E7%BB%84%E4%BB%B6/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/06/20/%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E5%9F%BA%E4%BA%8EReact%E7%9A%84Button%E7%BB%84%E4%BB%B6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="小吴的Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2021/06/20/%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E5%9F%BA%E4%BA%8EReact%E7%9A%84Button%E7%BB%84%E4%BB%B6/" itemprop="url">实现一个基于React的Button组件</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2021-06-20T17:18:44+08:00">
                2021-06-20
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/JavaScript/" itemprop="url" rel="index">
                    <span itemprop="name">JavaScript</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/JavaScript/TypeScript/" itemprop="url" rel="index">
                    <span itemprop="name">TypeScript</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h1 id="API"><a href="#API" class="headerlink" title="API"></a>API</h1><p>在开始编写 <a target="_blank" rel="noopener" href="https://wuwenxing0912.github.io/react-ui-lib/home.html">Button组件</a> 之前，首先构思 Button 需要提供的 API，然后按照 API 的要求着手实现。API 具体如下：</p>
<table>
<thead>
<tr>
<th>API</th>
<th>说明</th>
<th>默认值</th>
<th>类型</th>
</tr>
</thead>
<tbody><tr>
<td>type</td>
<td>button类型</td>
<td>default</td>
<td>“default” | “primary” | “dashed” | “danger”</td>
</tr>
<tr>
<td>className</td>
<td>自定义类名</td>
<td>—</td>
<td>string</td>
</tr>
<tr>
<td>style</td>
<td>自定义样式</td>
<td>—</td>
<td>React.CSSProperties</td>
</tr>
<tr>
<td>disabled</td>
<td>按钮禁用状态</td>
<td>false</td>
<td>boolean</td>
</tr>
<tr>
<td>ghost</td>
<td>幽灵按钮，背景透明</td>
<td>false</td>
<td>boolean</td>
</tr>
<tr>
<td>size</td>
<td>按钮尺寸大小</td>
<td>middle</td>
<td>“large” | “middle” | “small”</td>
</tr>
<tr>
<td>icon</td>
<td>自定义按钮图标</td>
<td>—</td>
<td>string</td>
</tr>
<tr>
<td>onClick</td>
<td>点击按钮时的回调</td>
<td>—</td>
<td>React.MouseEventHandler</td>
</tr>
<tr>
<td>buttonType</td>
<td>设置原生button的type属性</td>
<td>button</td>
<td>“button” |”submit” |”reset”</td>
</tr>
</tbody></table>
<p>根据上述要求，那么就可以这样设计 Props ：</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> Props &#123;</span><br><span class="line">	<span class="keyword">type</span>?: <span class="string">&quot;default&quot;</span> | <span class="string">&quot;primary&quot;</span> | <span class="string">&quot;dashed&quot;</span> | <span class="string">&quot;danger&quot;</span>;</span><br><span class="line">	className?: <span class="built_in">string</span>;</span><br><span class="line">	style?: React.CSSProperties;</span><br><span class="line">	disabled?: <span class="built_in">boolean</span>;</span><br><span class="line">	ghost?: <span class="built_in">boolean</span>;</span><br><span class="line">	size?: <span class="string">&quot;large&quot;</span> | <span class="string">&quot;middle&quot;</span> | <span class="string">&quot;small&quot;</span>;</span><br><span class="line">	icon?: <span class="built_in">string</span>;</span><br><span class="line">	onClick?: React.MouseEventHandler;</span><br><span class="line">	buttonType?: <span class="string">&quot;button&quot;</span> | <span class="string">&quot;submit&quot;</span> | <span class="string">&quot;reset&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Button.defaultProps = &#123;</span><br><span class="line">	<span class="attr">type</span>: <span class="string">&quot;default&quot;</span>,</span><br><span class="line">	<span class="attr">disabled</span>: <span class="literal">false</span>,</span><br><span class="line">	<span class="attr">ghost</span>: <span class="literal">false</span>,</span><br><span class="line">	<span class="attr">size</span>: <span class="string">&quot;middle&quot;</span>,</span><br><span class="line">	<span class="attr">buttonType</span>: <span class="string">&quot;button&quot;</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2021/06/20/%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E5%9F%BA%E4%BA%8EReact%E7%9A%84Button%E7%BB%84%E4%BB%B6/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/06/15/%E6%90%AD%E5%BB%BA%E5%9F%BA%E4%BA%8EHexo5%E5%8D%9A%E5%AE%A2%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="小吴的Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2021/06/15/%E6%90%AD%E5%BB%BA%E5%9F%BA%E4%BA%8EHexo5%E5%8D%9A%E5%AE%A2%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98/" itemprop="url">搭建基于Hexo5博客遇到的问题</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2021-06-15T10:56:26+08:00">
                2021-06-15
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Hexo/" itemprop="url" rel="index">
                    <span itemprop="name">Hexo</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>早些时候使用Hexo 4成功搭建了个人博客。现在更换了电脑，生成博客的源代码也没有备份，只好重头开始。Hexo已经更新到5.4.0，与Hexo 4有些不同，所以开篇博客记录在安装时遇到的问题(本文的操作平台是Windows 10环境)。</p>
<h1 id="hexo-init"><a href="#hexo-init" class="headerlink" title="hexo init"></a>hexo init</h1><p>与Hexo 4不同的是，使用Hexo 5就倒在了第一步：初始化失败。报错内容大致如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">INFO  Cloning hexo-starter https:<span class="comment">//github.com/hexojs/hexo-starter.git</span></span><br><span class="line">fatal: unable to access <span class="string">&#x27;https://github.com/xxx&#x27;</span>: OpenSSL SSL_connect: SSL_ERROR_SYSCALL <span class="keyword">in</span> connection to github.com:<span class="number">443</span></span><br><span class="line">WARN  git clone failed. Copying data instead</span><br><span class="line">FATAL &#123;</span><br><span class="line">  <span class="attr">err</span>: [<span class="built_in">Error</span>: ENOENT: no such file or directory, scandir <span class="string">&#x27;C:\Users\xxx\AppData\Roaming\npm\node_modules\hexo-cli\assets&#x27;</span>] &#123;</span><br><span class="line">    <span class="attr">errno</span>: -<span class="number">4058</span>,</span><br><span class="line">    <span class="attr">code</span>: <span class="string">&#x27;ENOENT&#x27;</span>,</span><br><span class="line">    <span class="attr">syscall</span>: <span class="string">&#x27;scandir&#x27;</span>,</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;C:\\Users\\xxx\\AppData\\Roaming\\npm\\node_modules\\hexo-cli\\assets&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125; Something<span class="string">&#x27;s wrong. Maybe you can find the solution here: %s http://hexo.io/docs/troubleshooting.html</span></span><br></pre></td></tr></table></figure>

<p>在搜索解决方法时，有些答案认为是因为github被墙或者是git设置了http代理所导致，对于前者我试着挂好了梯子(github、google均能正常使用)初始化仍然失败；接着检查了http代理也不存在问题。</p>
<p>最后的解决办法是：替换github链接。首先在你的电脑找到init.js文件，大致路径：C:\Users\xxx\AppData\Roaming\npm\node_modules\hexo-cli\lib\console\init.js，搜索GIT_REPO_URL字段后做如下替换：</p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2021/06/15/%E6%90%AD%E5%BB%BA%E5%9F%BA%E4%BA%8EHexo5%E5%8D%9A%E5%AE%A2%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/06/11/%E6%89%8B%E5%86%99%E7%B3%BB%E5%88%97%E4%B9%8B%E4%BA%8C%EF%BC%9AEventHub/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="小吴的Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2021/06/11/%E6%89%8B%E5%86%99%E7%B3%BB%E5%88%97%E4%B9%8B%E4%BA%8C%EF%BC%9AEventHub/" itemprop="url">手写系列之二：EventHub</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2021-06-11T17:20:12+08:00">
                2021-06-11
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/JavaScript/" itemprop="url" rel="index">
                    <span itemprop="name">JavaScript</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h1 id="何时使用EventHub"><a href="#何时使用EventHub" class="headerlink" title="何时使用EventHub"></a>何时使用EventHub</h1><p>曾经在实际开发工作中遇到如下场景：在一个页面中有2个Tab页(Tab之间切换不会刷新页面)，其中Tab A展示接入设备的数量使用情况；Tab B可允许用户对设备接入数量进行扩容，要求在Tab B成功进行扩容后Tab A随后自动更新数据。EventHub则正好适用于这种场景。EventHub可用于模块之间通信：Tab A注册/监听(on)更新事件，在Tab B触发(emit)更新事件后，Tab A做出相应行为。</p>
<h1 id="实现EventHub"><a href="#实现EventHub" class="headerlink" title="实现EventHub"></a>实现EventHub</h1><p>EventHub包含3个方法：on(注册/监听)、emit(触发)、off(取消)。</p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2021/06/11/%E6%89%8B%E5%86%99%E7%B3%BB%E5%88%97%E4%B9%8B%E4%BA%8C%EF%BC%9AEventHub/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/06/09/%E6%89%8B%E5%86%99%E7%B3%BB%E5%88%97%E4%B9%8B%E4%B8%80%EF%BC%9A%E6%B7%B1%E6%8B%B7%E8%B4%9D/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="小吴的Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2021/06/09/%E6%89%8B%E5%86%99%E7%B3%BB%E5%88%97%E4%B9%8B%E4%B8%80%EF%BC%9A%E6%B7%B1%E6%8B%B7%E8%B4%9D/" itemprop="url">手写系列之一：深拷贝</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2021-06-09T20:05:59+08:00">
                2021-06-09
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/JavaScript/" itemprop="url" rel="index">
                    <span itemprop="name">JavaScript</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h1 id="前置知识"><a href="#前置知识" class="headerlink" title="前置知识"></a>前置知识</h1><h2 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h2><p>按照《JavaScript高级程序设计：第4版》书中的描述，JavaScript共有7种数据类型分别是：Undefined、Null、Boolean、Number、String、Symbol和Object。其中前6种是简单数据类型，也称为基本类型；Object是复杂数据类型，又称为引用类型。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//基本类型: Number</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">var</span> b = a;</span><br><span class="line">b = <span class="number">2</span>;</span><br><span class="line"><span class="built_in">console</span>.log(a, b); <span class="comment">//1, 2 变量b重新赋值不影响变量a</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//基本类型: String</span></span><br><span class="line"><span class="keyword">var</span> str1 = <span class="string">&#x27;str1&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> str2 = str1;</span><br><span class="line">str2 = <span class="string">&#x27;str2&#x27;</span></span><br><span class="line"><span class="built_in">console</span>.log(str1, str2); <span class="comment">//&#x27;str1&#x27;, &#x27;str2&#x27; 变量b重新赋值不影响变量a</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//引用类型</span></span><br><span class="line"><span class="keyword">var</span> obj1 = &#123;<span class="attr">x</span>: <span class="number">1</span>&#125;;</span><br><span class="line"><span class="keyword">var</span> obj2 = obj1;</span><br><span class="line">obj2.x = <span class="number">2</span>;</span><br><span class="line"><span class="built_in">console</span>.log(obj1.x, obj2.x); <span class="comment">//2, 2 修改obj2中的值影响了obj1</span></span><br></pre></td></tr></table></figure>

<p>对于基本类型：一个变量赋值给另一个变量时，这两个变量互不影响。</p>
<p>对于引用类型：一个对象赋值给另一个变量时，可以理解为复制的是对象的地址，因此这两个对象指向的是同一个存储空间。当其中一个发生改变时，另一个对象也会受到影响。</p>
<p>所以要想隔断obj1和obj2的联系，可以拷贝一份obj1的数据。</p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2021/06/09/%E6%89%8B%E5%86%99%E7%B3%BB%E5%88%97%E4%B9%8B%E4%B8%80%EF%BC%9A%E6%B7%B1%E6%8B%B7%E8%B4%9D/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://example.com/2018/08/10/%E5%88%A4%E6%96%ADJS%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E7%9A%84%E6%96%B9%E6%B3%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="小吴的Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/10/%E5%88%A4%E6%96%ADJS%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E7%9A%84%E6%96%B9%E6%B3%95/" itemprop="url">判断JS数据类型的方法</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-08-10T00:25:37+08:00">
                2018-08-10
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/JavaScript/" itemprop="url" rel="index">
                    <span itemprop="name">JavaScript</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>在 ECMAScript 规范中，一共有7种数据类型，分别为：<br>Number、String、Boolean、Null、Undefined、Symbol、Object。<br>其中Number、String、Boolean、Null、Undefined、Symbol为基本类型，Object为引用类型或称复杂类型。</p>
<h1 id="1、typeof"><a href="#1、typeof" class="headerlink" title="1、typeof"></a>1、typeof</h1><p>typeof 是一个操作符，右侧跟一个一元表达式，并返回这个表达式的数据类型。返回的结果用该类型的字符串(全小写字母)形式表示。如下:</p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2018/08/10/%E5%88%A4%E6%96%ADJS%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E7%9A%84%E6%96%B9%E6%B3%95/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/">&gt;</a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/avatar.png"
                alt="" />
            
              <p class="site-author-name" itemprop="name"></p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <!--<a href="/archives/%7C%7C%20archive">-->
                <a href="/archives/">
              
                  <span class="site-state-item-count">22</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">6</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">27</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">xing</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
